{% extends "restaurant_base.html" %}
{% load bootstrap3 %}
{% block title %}Driver Manager{% endblock %}
{% block content_restaurant %}
<div calss="col-sm-4">
    <h2>Driver Manager</h2>
    <h3 style="margin: 2px">Add New Driver</h3>
    <hr style="margin: 2px"/>
    <br>
    <form action="." method="post" class="form">
        {% csrf_token %}
        {% bootstrap_form driver_form %}
        {% buttons %}
            <button type="submit" class="btn btn-primary">
                Add
            </button>
        {% endbuttons %}
    </form>
    <br>
    <h3 style="margin: 2px">Existing Drivers</h3>
    <hr style="margin: 2px"/>
    <br>
    <table class="table table-bordered table-hover table-striped">
        <thead>
            <tr>
                {% comment %} <th>ID</th> {% endcomment %}
                <th>Name</th>
                <th>Phone</th>
                <th>Driver Code</th>
                <th>Password</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            {% for driver in drivers %}
                <tr>
                    {% comment %} <td>{{driver.idDriver}}</td> {% endcomment %}
                    <td>{{driver.driverName}}</td>
                    <td>{{driver.driverCode}}</td>
                    <td>{{driver.phone}}</td>
                    <td><a href="{% url 'driverPWChange' driver.idDriver %}" class="btn btn-warning" role="button">Change Password</a></td>
                    <td><a href="{% url 'drivers-delete' driver.idDriver %}" class="btn btn-danger" role="button">Delete</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% if successful_addDriver %}
    <script type="text/javascript">
        $(document).ready(function(){
            $("#passwordModal").modal('show');
        });
    </script>
{% endif %}
<div id="passwordModal" class="modal fade" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">
                Add a new driver succeeded
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </h3>
        </div>
        <div class="modal-body">
            <h4 style="text-align:center">Password of the New driver:  <b>{{password}}</b> </h4>
        </div>
        <div class="modal-footer" style="text-align:left">
            {% comment %} <button type="button" class="close" data-dismiss="modal" aria-label="Close"> {% endcomment %}
            <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">
                OK
            </button>
        </div>
        </div>
    </div>
</div>
{% endblock %}